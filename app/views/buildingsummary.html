<div class="row building-summary">

    <!-- Battery status section -->
    <div class="col-md-6" ng-if="summary.state && summary.state.timestamp">
        <p class="lead">Battery</p>
        
        <!-- Battery level diagram -->
        <div class="battery-container" style="height: {{summary.batteryDiagramHeight}}px;">
            <!--  Filled in section -->
            <div class="level" ng-class="{low : summary.chargeLevel < 0.2, charging : summary.state.isBatteryCharging}" style="height: {{summary.getBatteryLevelHeight()}}px;"></div>
        </div>

        <!-- Battery level information -->
        <div class="battery-info">
            <span class="percentage">{{summary.chargeLevel * 100 | number : 0}}%</span>
            
            <h3 class="charging-state">
                <i class="fa" ng-class="{'fa-arrow-up' : summary.state.isBatteryCharging, 'fa-arrow-down' : !summary.state.isBatteryCharging}"></i>
                {{summary.state.isBatteryCharging ? 'Charging' : 'Discharging'}}
            </h3>
        </div>
        <div class="clear"></div>
    </div>

    <!-- Energy flow section -->
    <div class="col-md-6" ng-if="summary.state && summary.state.timestamp">
        <p class="lead">Energy Flow</p>

        <canvas class="chart chart-bar"
            chart-data="summary.energyFlowData" chart-labels="summary.energyFlowLabels">
        </canvas>
    </div>
</div>